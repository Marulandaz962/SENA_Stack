{% extends "senaback/index_main.html" %}
	{% load static %}
	{% block css %}
	<link href="{% static 'senaback/css/stylesmain5.css' %}" rel="stylesheet">
	{% endblock css %}
	{% block tittle %}Entregas {% endblock %}
	<!-- Styles -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
	<!-- DataTable.js -->
	<link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" />
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />	
	<!-- Custom CSS -->
	<link rel="stylesheet" href="{% static 'css/stylesmain5.css' %}" />
</head>
<body>
	{% block content %}	
	
	<section id="formulario-crear-entrega" class="modal">
		<div class="modal-content">
			<p>Entrega</p>
			<hr>
			<form method="POST" action="{% url 'crear_entrega' %}">
				{% csrf_token %}	      
				<label for="elemento_entrega">Elemento</label>
				<select id="elemento_entrega" name="elemento_entrega" placeholder="Elemento" required>
					{% for elemento in elementos_consumibles %}
						<option value="{{ elemento.id }}">{{ elemento.nombre_consumible }}</option>
					{% endfor %}
				</select><br>			
				<label for="cantidad">Cantidad</label>
				<input type="number" id="cantidad" name="cantidad" required>
				<label for="responsable_entrega">Responsable</label>
				<select id="responsable_entrega" name="responsable_entrega" placeholder="Responsable" required>
					{% for responsable in usuarios %}
						<option value="{{ responsable.id }}">{{ responsable.nombre_usuario }}</option>
					{% endfor %}
				</select><br>			
				<label for="descripcion">Descripción:</label>
				<textarea id="descripcion" name="descripcion" rows="5" placeholder="Escribe una descripción" required></textarea>             
				<div class="botones-container">
					<button class="btn-no-guardar" id="btn-no-guardar-entrega" type="button">Cancelar</button>
					<button class="btn-guardar" id="btn-guardar-entrega" type="submit">Guardar</button>
				</div>
			</form>
		</div>
	</section>
	
		


	
	<!-- Tabla de Elementos Consumibles -->
	<div class="container mt-4">
		<h1>Lista de entregas realizadas</h1>
	<div class="row">
		<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
			<div class="table-responsive">
				<table id="datatables-entregas" class="table table-striped">
					<caption>
						Inventario de Elementos Consumibles
					</caption>
					<thead class="thead-light">						
							<th class="centered">Id</th>	
							<th class="centered">Elemento</th>
							<th class="centered">Fecha</th>
							<th class="centered">Cantidad</th>
							<th class="centered">Responsable</th>
							<th class="centered">Observaciones</th>
							<th class="centered">Acciones</th>
						</tr>
					</thead>
					<tbody id="tableBody_entrega">
					</tbody>
				</table>
			</div>
		</div>
	</div>
	</div>		
	<section id="botones-seccion-crear">
		<button id="abrir-modal">Hacer una entrega de elementos</button>
	</section> 	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	<!-- jQuery -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<!-- DataTable.js -->
	<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>
	<!-- Custom JS -->
	<script src="{% static 'senaback/js/indexentrega.js' %}"></script>
	<script src="{% static 'senaback/js/Script4.js' %}"></script>
	{% endblock content %}
</body>
</html>